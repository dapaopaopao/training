{"version":3,"sources":["webpack:///C:/Users/bili/Desktop/suibianlianlian/training/uni_modules/robin-editor/components/robin-editor/robin-editor.vue?790c","webpack:///C:/Users/bili/Desktop/suibianlianlian/training/uni_modules/robin-editor/components/robin-editor/robin-editor.vue?d5fa","webpack:///C:/Users/bili/Desktop/suibianlianlian/training/uni_modules/robin-editor/components/robin-editor/robin-editor.vue?d9f2","webpack:///C:/Users/bili/Desktop/suibianlianlian/training/uni_modules/robin-editor/components/robin-editor/robin-editor.vue?9d55","uni-app:///uni_modules/robin-editor/components/robin-editor/robin-editor.vue","webpack:///C:/Users/bili/Desktop/suibianlianlian/training/uni_modules/robin-editor/components/robin-editor/robin-editor.vue?21cf","webpack:///C:/Users/bili/Desktop/suibianlianlian/training/uni_modules/robin-editor/components/robin-editor/robin-editor.vue?6b23"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACrI;AACgE;AACL;AACsC;;;AAGjG;AAC+K;AAC/K,gBAAgB,wLAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,qUAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAwpB,CAAgB,6qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyH5qB;AACA;AACA;AACA,kBADA,EADA;;AAIA;AACA,oBADA,EAJA;;AAOA;AACA,mBADA;AAEA,oBAFA,EAPA;;AAWA;AACA,mBADA;AAEA,oBAFA,EAXA;;AAeA;AACA,mBADA;AAEA,oBAFA,EAfA;;AAmBA;AACA,mBADA;AAEA,oBAFA,EAnBA;;AAuBA;AACA,iBADA;AAEA;AACA;AACA,cADA;AAEA,gBAFA;AAGA,mBAHA;AAIA,gBAJA;AAKA,oBALA;AAMA,sBANA;AAOA,qBAPA;AAQA,gBARA;AASA,cATA;AAUA,eAVA;AAWA,yBAXA;AAYA,eAZA;AAaA,eAbA;AAcA,iBAdA;;AAgBA,OAnBA,EAvBA,EADA;;;AA8CA,MA9CA,kBA8CA;AACA;AACA,gBADA;AAEA,qBAFA;AAGA,iBAHA;AAIA,0BAJA;AAKA,iBALA;AAMA,eANA;AAOA,yBAPA;AAQA,qBARA;AASA,iDATA;AAUA,wBAVA;AAWA,kBAXA;AAYA,cAZA;AAaA,uBAbA;AAcA,qBAdA;AAeA,kBAfA;;AAiBA,GAhEA;AAiEA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;;AAGA;AACA,KAbA,EAjEA;;AAgFA,SAhFA,qBAgFA;AACA;AACA,GAlFA;AAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA;AACA;AACA;AACA,WALA;;AAOA,OARA,EAQA,QARA;AASA,KAdA;AAeA,GA1GA;AA2GA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA,KANA,EA3GA;;AAmHA;AACA,kBADA,0BACA,cADA,EACA;AACA,6BADA,CACA,YADA,yBACA,YADA,CACA,WADA,yBACA,WADA,CACA,QADA,yBACA,QADA;AAEA;AACA;;;;AAIA,6EAPA,CAOA;;AAEA;AACA;AACA;AACA,KAbA;AAcA,aAdA,qBAcA,CAdA,EAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1BA;AA2BA,gBA3BA,wBA2BA,CA3BA,EA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAXA;;AAaA;AACA,KA3CA;AA4CA,kBA5CA,4BA4CA;AACA;AACA,KA9CA;AA+CA,iBA/CA,2BA+CA;AACA;AACA,QADA,CACA,IADA;AAEA,YAFA,CAEA,SAFA;AAGA,aAHA,CAGA;AACA;AACA;AACA;AACA,6BADA;;AAGA;AACA,OAVA;AAWA,UAXA;AAYA,KA5DA;AA6DA,QA7DA,kBA6DA;AACA;AACA;AACA,KAhEA;AAiEA,QAjEA,kBAiEA;AACA;AACA;AACA,KApEA;AAqEA,UArEA,kBAqEA,CArEA,EAqEA;AACA,sBADA,CACA,IADA,qBACA,IADA,CACA,KADA,qBACA,KADA,CACA,KADA,qBACA,KADA;AAEA;AACA;AACA,KAzEA;AA0EA,WA1EA,mBA0EA,IA1EA,EA0EA,KA1EA,EA0EA,KA1EA,EA0EA;AACA;AACA;AACA,KA7EA;AA8EA,SA9EA,iBA8EA,KA9EA,EA8EA;AACA;AACA,qBADA;AAEA,oBAFA;AAGA,oBAHA;;AAKA,KApFA;AAqFA,kBArFA,0BAqFA,CArFA,EAqFA;AACA;AACA;AACA,KAxFA;AAyFA,iBAzFA,2BAyFA;AACA;AACA;AACA;AACA,SAHA;;AAKA,KA/FA;AAgGA,SAhGA,mBAgGA;AACA;AACA;AACA;AACA,SAHA;;AAKA,KAtGA;AAuGA,gBAvGA,0BAuGA;AACA;AACA;AACA,KA1GA;AA2GA,cA3GA,wBA2GA;AACA;AACA;AACA;AACA,wBADA;;AAGA;AACA,KAlHA;AAmHA,eAnHA,yBAmHA;AACA;AACA;AACA;AACA;AACA,YADA;AAEA;AACA;AACA;AACA;AACA,wBADA;AAEA,yBAFA;;AAIA,aALA;AAMA,WAPA;AAQA,SAXA;;AAaA,KApIA;AAqIA,YArIA,oBAqIA,CArIA,EAqIA;AACA;AACA;AACA;AACA,KAzIA;AA0IA,UA1IA,oBA0IA;AACA;AACA,KA5IA;AA6IA,QA7IA,kBA6IA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA,WAJA;;AAMA;AACA,KA5JA;AA6JA;AACA;AACA;AACA,KAhKA;AAiKA;AACA;AACA;AACA;AACA,SAHA;;AAKA,KAvKA,EAnHA,E;;;;;;;;;;;;;ACzHA;AAAA;AAAA;AAAA;AAA0tC,CAAgB,2rCAAG,EAAC,C;;;;;;;;;;;ACA9uC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/robin-editor/components/robin-editor/robin-editor.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./robin-editor.vue?vue&type=template&id=a4f47600&scoped=true&\"\nvar renderjs\nimport script from \"./robin-editor.vue?vue&type=script&lang=js&\"\nexport * from \"./robin-editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./robin-editor.vue?vue&type=style&index=0&id=a4f47600&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a4f47600\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/robin-editor/components/robin-editor/robin-editor.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./robin-editor.vue?vue&type=template&id=a4f47600&scoped=true&\"","var components\ntry {\n  components = {\n    robinEditorHeader: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/robin-editor/components/robin-editor-header/robin-editor-header\" */ \"@/uni_modules/robin-editor/components/robin-editor-header/robin-editor-header.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    robinColorPicker: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/robin-editor/components/robin-color-picker/robin-color-picker\" */ \"@/uni_modules/robin-editor/components/robin-color-picker/robin-color-picker.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./robin-editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./robin-editor.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"wrapper\" :style=\"{ 'padding-top': keyboardHeight }\">\r\n        <robin-editor-header class=\"header\" @cancel=\"cancel\" @save=\"save\" :labelConfirm=\"labelConfirm\" :labelCancel=\"labelCancel\"></robin-editor-header>\r\n        <view :style=\"'height:' + editorHeight + 'px;'\" class=\"container\" v-if=\"!previewMode\" v-show=\"!showPreview\">\r\n            <editor\r\n                v-if=\"!previewMode\"\r\n                v-show=\"!showPreview\"\r\n                id=\"editor\"\r\n                class=\"ql-container\"\r\n                placeholder=\"开始输入...\"\r\n                showImgSize\r\n                showImgToolbar\r\n                showImgResize\r\n                @statuschange=\"onStatusChange\"\r\n                :read-only=\"readOnly\"\r\n                @ready=\"onEditorReady\"\r\n            ></editor>\r\n        </view>\r\n        <view class=\"toolbar\" @tap=\"format\" v-if=\"!showPreview\" v-show=\"keyboardHeight || !autoHideToolbar\" :style=\"'bottom:' + (isIOS ? keyboardHeight : 0) + 'px'\">\r\n            <block v-for=\"(t, i) in tools\" :key=\"i\">\r\n                <view v-if=\"t == 'bold'\" :class=\"formats.bold ? 'ql-active' : ''\" class=\"iconfont icon-zitijiacu\" data-name=\"bold\" data-label=\"加粗\"></view>\r\n                <view v-if=\"t == 'italic'\" :class=\"formats.italic ? 'ql-active' : ''\" class=\"iconfont icon-zitixieti\" data-name=\"italic\" data-label=\"斜体\"></view>\r\n                <view v-if=\"t == 'underline'\" :class=\"formats.underline ? 'ql-active' : ''\" class=\"iconfont icon-zitixiahuaxian\" data-name=\"underline\" data-label=\"下滑线\"></view>\r\n                <view v-if=\"t == 'strike'\" :class=\"formats.strike ? 'ql-active' : ''\" class=\"iconfont icon-zitishanchuxian\" data-name=\"strike\" data-label=\"删除线\"></view>\r\n                <view\r\n                    v-if=\"t == 'align-left'\"\r\n                    :class=\"formats.align === 'left' || !formats.align ? 'ql-active' : ''\"\r\n                    class=\"iconfont icon-zuoduiqi\"\r\n                    data-name=\"align\"\r\n                    data-value=\"left\"\r\n                    data-label=\"居左\"\r\n                ></view>\r\n                <view\r\n                    v-if=\"t == 'align-center'\"\r\n                    :class=\"formats.align === 'center' ? 'ql-active' : ''\"\r\n                    class=\"iconfont icon-juzhongduiqi\"\r\n                    data-name=\"align\"\r\n                    data-value=\"center\"\r\n                    data-label=\"居中\"\r\n                ></view>\r\n                <view\r\n                    v-if=\"t == 'align-right'\"\r\n                    :class=\"formats.align === 'right' ? 'ql-active' : ''\"\r\n                    class=\"iconfont icon-youduiqi\"\r\n                    data-name=\"align\"\r\n                    data-value=\"right\"\r\n                    data-label=\"居右\"\r\n                ></view>\r\n                <view\r\n                    v-if=\"t == 'align-justify'\"\r\n                    :class=\"formats.align === 'justify' ? 'ql-active' : ''\"\r\n                    class=\"iconfont icon-zuoyouduiqi\"\r\n                    data-name=\"align\"\r\n                    data-value=\"justify\"\r\n                    data-label=\"平铺\"\r\n                ></view>\r\n                <!--                  <view :class=\"formats.lineHeight ? 'ql-active' : ''\" class=\"iconfont icon-line-height\" data-name=\"lineHeight\"\r\n                             data-value=\"2\"></view>\r\n                    <view :class=\"formats.letterSpacing ? 'ql-active' : ''\" class=\"iconfont icon-Character-Spacing\" data-name=\"letterSpacing\"\r\n                             data-value=\"2em\"></view>\r\n                    <view :class=\"formats.marginTop ? 'ql-active' : ''\" class=\"iconfont icon-722bianjiqi_duanqianju\" data-name=\"marginTop\"\r\n                             data-value=\"20px\"></view>\r\n                    <view :class=\"formats.previewarginBottom ? 'ql-active' : ''\" class=\"iconfont icon-723bianjiqi_duanhouju\"\r\n                             data-name=\"marginBottom\" data-value=\"20px\"></view> -->\r\n                <view v-if=\"t == 'remove'\" class=\"iconfont icon-clearedformat\" @tap.stop=\"removeFormat\"></view>\r\n                <picker v-if=\"t == 'font'\" class=\"iconfont\" mode=\"selector\" :range=\"fontSizeRange\" @change=\"fontSize\"><view class=\"icon-fontsize\"></view></picker>\r\n                <view\r\n                    v-if=\"t == 'color'\"\r\n                    :style=\"fontColor != '#FFFFFF' ? 'color:' + formats.color : ''\"\r\n                    class=\"iconfont icon-text_color\"\r\n                    data-name=\"color\"\r\n                    @tap.stop=\"openColor\"\r\n                ></view>\r\n                <view\r\n                    v-if=\"t == 'backgroundColor'\"\r\n                    :style=\"bgColor ? 'color:' + formats.backgroundColor : ''\"\r\n                    class=\"iconfont icon-fontbgcolor\"\r\n                    data-name=\"backgroundColor\"\r\n                    @tap.stop=\"openColor\"\r\n                ></view>\r\n                <view v-if=\"t == 'image'\" class=\"iconfont icon-charutupian\" @tap.stop=\"insertImage\"></view>\r\n                <view v-if=\"t == 'clear'\" class=\"iconfont icon-shanchu\" @tap.stop=\"clear\"></view>\r\n                <view v-if=\"t == 'preview'\" class=\"iconfont icon-preview\" @tap.stop=\"preview\"></view>\r\n                <view v-if=\"t == 'date'\" class=\"iconfont icon-date\" @tap=\"insertDate\"></view>\r\n                <view v-if=\"t == 'list-check'\" class=\"iconfont icon-checklist\" data-name=\"list\" data-value=\"check\"></view>\r\n                <view\r\n                    v-if=\"t == 'list-ordered'\"\r\n                    :class=\"formats.list === 'ordered' ? 'ql-active' : ''\"\r\n                    class=\"iconfont icon-youxupailie\"\r\n                    data-name=\"list\"\r\n                    data-value=\"ordered\"\r\n                ></view>\r\n                <view v-if=\"t == 'list-bullet'\" :class=\"formats.list === 'bullet' ? 'ql-active' : ''\" class=\"iconfont icon-wuxupailie\" data-name=\"list\" data-value=\"bullet\"></view>\r\n                <view v-if=\"t == 'undo'\" class=\"iconfont icon-undo\" @tap=\"undo\"></view>\r\n                <view v-if=\"t == 'redo'\" class=\"iconfont icon-redo\" @tap=\"redo\"></view>\r\n                <view v-if=\"t == 'outdent'\" class=\"iconfont icon-outdent\" data-name=\"indent\" data-value=\"-1\"></view>\r\n                <view v-if=\"t == 'indent'\" class=\"iconfont icon-indent\" data-name=\"indent\" data-value=\"+1\"></view>\r\n                <view v-if=\"t == 'divider'\" class=\"iconfont icon-fengexian\" @tap=\"insertDivider\"></view>\r\n                <view v-if=\"t == 'h1'\" :class=\"formats.header === 1 ? 'ql-active' : ''\" class=\"iconfont icon-format-header-1\" data-name=\"header\" :data-value=\"1\"></view>\r\n                <view v-if=\"t == 'h2'\" :class=\"formats.header === 2 ? 'ql-active' : ''\" class=\"iconfont icon-format-header-2\" data-name=\"header\" :data-value=\"2\"></view>\r\n                <view v-if=\"t == 'h3'\" :class=\"formats.header === 3 ? 'ql-active' : ''\" class=\"iconfont icon-format-header-3\" data-name=\"header\" :data-value=\"3\"></view>\r\n                <view v-if=\"t == 'h4'\" :class=\"formats.header === 4 ? 'ql-active' : ''\" class=\"iconfont icon-format-header-4\" data-name=\"header\" :data-value=\"4\"></view>\r\n                <view v-if=\"t == 'h5'\" :class=\"formats.header === 5 ? 'ql-active' : ''\" class=\"iconfont icon-format-header-5\" data-name=\"header\" :data-value=\"5\"></view>\r\n                <view v-if=\"t == 'h6'\" :class=\"formats.header === 6 ? 'ql-active' : ''\" class=\"iconfont icon-format-header-6\" data-name=\"header\" :data-value=\"6\"></view>\r\n                <view v-if=\"t == 'sub'\" :class=\"formats.script === 'sub' ? 'ql-active' : ''\" class=\"iconfont icon-zitixiabiao\" data-name=\"script\" data-value=\"sub\"></view>\r\n                <view v-if=\"t == 'super'\" :class=\"formats.script === 'super' ? 'ql-active' : ''\" class=\"iconfont icon-zitishangbiao\" data-name=\"script\" data-value=\"super\"></view>\r\n                <view\r\n                    v-if=\"t == 'rtl'\"\r\n                    :class=\"formats.direction === 'rtl' ? 'ql-active' : ''\"\r\n                    class=\"iconfont icon-direction-rtl\"\r\n                    data-name=\"direction\"\r\n                    :data-value=\"formats.direction === 'rtl' ? '' : 'rtl'\"\r\n                ></view>\r\n            </block>\r\n        </view>\r\n        <uni-popup type=\"bottom\" ref=\"color\"><robin-color-picker :color=\"color\" @confirm=\"colorChanged\"></robin-color-picker></uni-popup>\r\n        <view class=\"preview\" v-show=\"showPreview\"><rich-text :nodes=\"htmlData\" class=\"previewNodes\"></rich-text></view>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        value: {\r\n            type: String\r\n        },\r\n        imageUploader: {\r\n            type: Function\r\n        },\r\n        muiltImage: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        compressImage: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        previewMode: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        autoHideToolbar: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        tools: {\r\n            type: Array,\r\n            default: function() {\r\n                return [\r\n                    'bold',\r\n                    'italic',\r\n                    'underline',\r\n                    'strike',\r\n                    'align-left',\r\n                    'align-center',\r\n                    'align-right',\r\n                    'remove',\r\n                    'font',\r\n                    'color',\r\n                    'backgroundColor',\r\n                    'image',\r\n                    'clear',\r\n                    'preview'\r\n                ];\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            show: true,\r\n            readOnly: false,\r\n            formats: {},\r\n            fontColor: '#000000',\r\n            bgColor: '',\r\n            color: '',\r\n            colorPickerName: '',\r\n            showColor: true,\r\n            fontSizeRange: [10, 12, 14, 16, 18, 24, 32],\r\n            showPreview: false,\r\n            htmlData: '',\r\n            html: '',\r\n            keyboardHeight: 0,\r\n            editorHeight: 0,\r\n            isIOS: false\r\n        };\r\n    },\r\n    watch: {\r\n        value: function(newvar) {\r\n            this.html = newvar;\r\n        },\r\n        html: function(newvar) {\r\n            if (this.previewMode) {\r\n                this.previewData(this.html);\r\n            }\r\n            if (this.editorCtx) {\r\n                this.editorCtx.setContents({\r\n                    html: this.html\r\n                });\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.html = this.value;\r\n    },\r\n    mounted: function() {\r\n        const platform = uni.getSystemInfoSync().platform;\r\n        this.isIOS = platform === 'ios';\r\n        if (this.previewMode) {\r\n            this.previewData(this.html);\r\n        }\r\n        let keyboardHeight = 0;\r\n        this.updatePosition(0);\r\n        uni.onKeyboardHeightChange(res => {\r\n            console.log(res, keyboardHeight);\r\n            if (res.height === keyboardHeight) return;\r\n            const duration = res.height > 0 ? res.duration * 1000 : 0;\r\n            keyboardHeight = res.height;\r\n            setTimeout(() => {\r\n                uni.pageScrollTo({\r\n                    scrollTop: 0,\r\n                    success: () => {\r\n                        this.updatePosition(keyboardHeight);\r\n                        this.editorCtx && this.editorCtx.scrollIntoView();\r\n                    }\r\n                });\r\n            }, duration);\r\n        });\r\n    },\r\n    computed: {\r\n        labelConfirm: function() {\r\n            return this.showPreview ? '关闭' : '保存';\r\n        },\r\n        labelCancel: function() {\r\n            return this.showPreview ? '' : '取消';\r\n        }\r\n    },\r\n    methods: {\r\n        updatePosition(keyboardHeight) {\r\n            const { windowHeight, windowWidth, platform } = uni.getSystemInfoSync();\r\n            const rpx = windowWidth / 750;\r\n            let titleHeight = 0;\r\n            //#ifdef H5\r\n            titleHeight = 44; //H5标题栏高度\r\n            //#endif\r\n            const toolbarHeight = (70 * Math.ceil(this.tools.length / 15) + 1) * rpx; //底部工具栏高度\r\n\r\n            const bodyHeight = windowHeight - titleHeight;\r\n            this.keyboardHeight = keyboardHeight;\r\n            this.editorHeight = keyboardHeight > 0 ? bodyHeight - keyboardHeight - toolbarHeight : this.autoHideToolbar ? bodyHeight : bodyHeight - toolbarHeight;\r\n        },\r\n        openColor(e) {\r\n            var name = e.currentTarget.dataset.name;\r\n            var color = this.formats[name];\r\n            this.colorPickerName = name;\r\n            if (name == 'backgroundColor' && !color) {\r\n                color = '#FFFFFF';\r\n            }\r\n            if (name == 'color' && !color) {\r\n                color = '#000000';\r\n            }\r\n            this.color = color;\r\n            this.$refs.color.open(color);\r\n        },\r\n        colorChanged(e) {\r\n            let label = '';\r\n            switch (this.colorPickerName) {\r\n                case 'backgroundColor':\r\n                    if (e.color == '#FFFFFF') {\r\n                        e.color = '';\r\n                    }\r\n                    this.bgColor = e.color;\r\n                    label = '背景色';\r\n                    break;\r\n                case 'color':\r\n                    this.fontColor = e.color;\r\n                    label = '颜色';\r\n                    break;\r\n            }\r\n            this._format(this.colorPickerName, e.color, label + e.color);\r\n        },\r\n        readOnlyChange() {\r\n            this.readOnly = !this.readOnly;\r\n        },\r\n        onEditorReady() {\r\n            uni.createSelectorQuery()\r\n                .in(this)\r\n                .select('#editor')\r\n                .context(res => {\r\n                    this.editorCtx = res.context;\r\n                    if (this.html) {\r\n                        this.editorCtx.setContents({\r\n                            html: this.html\r\n                        });\r\n                    }\r\n                })\r\n                .exec();\r\n        },\r\n        undo() {\r\n            this.editorCtx.undo();\r\n            this.toast('撤销');\r\n        },\r\n        redo() {\r\n            this.editorCtx.redo();\r\n            this.toast('重做');\r\n        },\r\n        format(e) {\r\n            let { name, value, label } = e.target.dataset;\r\n            if (!name) return;\r\n            this._format(name, value, label);\r\n        },\r\n        _format(name, value, label) {\r\n            this.editorCtx.format(name, value);\r\n            this.toast(label);\r\n        },\r\n        toast(label) {\r\n            uni.showToast({\r\n                duration: 600,\r\n                icon: 'none',\r\n                title: label\r\n            });\r\n        },\r\n        onStatusChange(e) {\r\n            const formats = e.detail;\r\n            this.formats = formats;\r\n        },\r\n        insertDivider() {\r\n            this.editorCtx.insertDivider({\r\n                success: function() {\r\n                    this.toast('插入分割线');\r\n                }\r\n            });\r\n        },\r\n        clear() {\r\n            this.editorCtx.clear({\r\n                success: res => {\r\n                    this.toast('清空');\r\n                }\r\n            });\r\n        },\r\n        removeFormat() {\r\n            this.editorCtx.removeFormat();\r\n            this.toast('清除格式');\r\n        },\r\n        insertDate() {\r\n            const date = new Date();\r\n            const formatDate = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`;\r\n            this.editorCtx.insertText({\r\n                text: formatDate\r\n            });\r\n            this.toast('插入日期');\r\n        },\r\n        insertImage() {\r\n            let params = {};\r\n            params.count = this.muiltImage ? 9 : 1;\r\n            params.sizeType = this.compressImage ? ['compressed'] : ['original'];\r\n            uni.chooseImage({\r\n                ...params,\r\n                success: res => {\r\n                    res.tempFilePaths.map(path => {\r\n                        this.imageUploader(path, url => {\r\n                            this.editorCtx.insertImage({\r\n                                src: url,\r\n                                alt: '图像'\r\n                            });\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        fontSize(e) {\r\n            const index = e.detail.value;\r\n            const fz = this.fontSizeRange[index] + 'px';\r\n            this._format('fontSize', fz, '字体大小:' + fz);\r\n        },\r\n        cancel() {\r\n            this.$emit('cancel');\r\n        },\r\n        save() {\r\n            if (this.showPreview) {\r\n                if (this.previewMode) {\r\n                    this.cancel();\r\n                } else {\r\n                    this.showPreview = false;\r\n                }\r\n            } else {\r\n                this.editorCtx.getContents({\r\n                    success: res => {\r\n                        this.$emit('save', res);\r\n                        this.$emit('input', res.html);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        previewData: function(html) {\r\n            this.htmlData = html.replace(/\\<img/gi, '<img style=\"max-width:100%;height:auto\"');\r\n            this.showPreview = true;\r\n        },\r\n        preview: function() {\r\n            this.editorCtx.getContents({\r\n                success: res => {\r\n                    this.previewData(res.html);\r\n                }\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import './editor-icon.css';\r\n\r\n.wrapper {\r\n    padding: 5px;\r\n    width: 100%;\r\n    position: relative;\r\n    .header {\r\n        width: 100%;\r\n        position: fixed;\r\n        z-index: 9;\r\n        left: 0;\r\n        height: 75rpx;\r\n        /* #ifndef H5 */\r\n        top: 0;\r\n        /* #endif */\r\n        /* #ifdef H5 */\r\n        top: 44px;\r\n        /* #endif */\r\n    }\r\n\r\n    .container {\r\n        width: 100%;\r\n        margin-top: 75rpx;\r\n        background: #fff;\r\n\r\n        .ql-container {\r\n            box-sizing: border-box;\r\n            width: 100%;\r\n            height: 100%;\r\n            font-size: 16px;\r\n            line-height: 1.5;\r\n            overflow: auto;\r\n            padding: 20rpx;\r\n        }\r\n    }\r\n\r\n    .toolbar {\r\n        position: fixed;\r\n        width: 100%;\r\n        left: 0;\r\n        bottom: 0;\r\n        box-sizing: border-box;\r\n        font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;\r\n        background-color: #fff;\r\n        border-top: 1px solid #eee;\r\n        line-height: 50rpx;\r\n\r\n        .iconfont {\r\n            display: inline-block;\r\n            padding: 10rpx 0;\r\n            width: 50rpx;\r\n            text-align: center;\r\n            font-size: 34rpx;\r\n            box-sizing: border-box;\r\n        }\r\n    }\r\n}\r\n\r\n.preview {\r\n    width: 100%;\r\n    margin-top: 90rpx;\r\n\r\n    .previewNodes {\r\n        width: 100%;\r\n        word-break: break-all;\r\n    }\r\n}\r\n\r\n.ql-active {\r\n    color: #06c;\r\n}\r\n</style>\n","import mod from \"-!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./robin-editor.vue?vue&type=style&index=0&id=a4f47600&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./robin-editor.vue?vue&type=style&index=0&id=a4f47600&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1613569378044\n      var cssReload = require(\"E:/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}